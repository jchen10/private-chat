"use strict";var Tea={};Tea.encrypt=function(e,r){if(e+="",r+="",0==e.length)return"";var o=Tea.strToLongs(Tea.utf8Encode(e)),n=Tea.strToLongs(Tea.utf8Encode(r).slice(0,16));o=Tea.encode(o,n);var t=Tea.longsToStr(o);return Tea.base64Encode(t)},Tea.decrypt=function(e,r){if(e+="",r+="",0==e.length)return"";var o=Tea.strToLongs(Tea.base64Decode(e)),n=Tea.strToLongs(Tea.utf8Encode(r).slice(0,16));o=Tea.decode(o,n);var t=Tea.longsToStr(o);return t=t.replace(/\0+$/,""),Tea.utf8Decode(t)},Tea.encode=function(e,r){e.length<2&&(e[1]=0);for(var o,n,t=e.length,a=e[t-1],f=e[0],u=2654435769,c=Math.floor(6+52/t),d=0;c-->0;){d+=u,n=d>>>2&3;for(var i=0;t>i;i++)f=e[(i+1)%t],o=(a>>>5^f<<2)+(f>>>3^a<<4)^(d^f)+(r[3&i^n]^a),a=e[i]+=o}return e},Tea.decode=function(e,r){for(var o,n,t=e.length,a=e[t-1],f=e[0],u=2654435769,c=Math.floor(6+52/t),d=c*u;0!=d;){n=d>>>2&3;for(var i=t-1;i>=0;i--)a=e[i>0?i-1:t-1],o=(a>>>5^f<<2)+(f>>>3^a<<4)^(d^f)+(r[3&i^n]^a),f=e[i]-=o;d-=u}return e},Tea.strToLongs=function(e){for(var r=Array(Math.ceil(e.length/4)),o=0;o<r.length;o++)r[o]=e.charCodeAt(4*o)+(e.charCodeAt(4*o+1)<<8)+(e.charCodeAt(4*o+2)<<16)+(e.charCodeAt(4*o+3)<<24);return r},Tea.longsToStr=function(e){for(var r="",o=0;o<e.length;o++)r+=String.fromCharCode(255&e[o],e[o]>>>8&255,e[o]>>>16&255,e[o]>>>24&255);return r},Tea.utf8Encode=function(e){return unescape(encodeURIComponent(e))},Tea.utf8Decode=function(e){try{return decodeURIComponent(escape(e))}catch(r){return e}},Tea.base64Encode=function(e){if("undefined"!=typeof btoa)return btoa(e);if("undefined"!=typeof Buffer)return new Buffer(e,"binary").toString("base64");throw Error("No Base64 Encode")},Tea.base64Decode=function(e){if("undefined"==typeof atob&&"undefined"==typeof Buffer)throw Error("No base64 decode");try{if("undefined"!=typeof atob)return atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString("binary")}catch(r){throw Error("Invalid ciphertext")}},"undefined"!=typeof module&&module.exports&&(module.exports=Tea);